<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>{% block title %}TradingBot{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />
<style>
  :root {
    --bg: #0c1118;
    --panel: #111826;
    --panel-border: #243041;
    --text: #e8edf3;
    --text-muted: #b7c2cf;
    --table-head: #1a2332;
    --table-row: #121a28;
    --table-row-alt: #152032;
    --blue: #3b82f6;
    --green: #17b26a;
    --red: #f04438;
    --yellow: #fbbf24;
  }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  }

  .muted { color: var(--text-muted); }
  .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }

  /* Cards */
  .card {
    background: var(--panel);
    border: 1px solid var(--panel-border);
  }
  .card-body { color: var(--text); }
  .card-title { color: var(--text); }

  /* Tables */
  .table-dark {
    --bs-table-color: var(--text);
    --bs-table-bg: transparent;
  }
  .table-dark thead th {
    background: var(--table-head);
    color: var(--text);
    border-color: var(--panel-border);
    font-weight: 600;
  }
  .table-dark tbody tr { background: var(--table-row); }
  .table-dark tbody tr:nth-child(odd) { background: var(--table-row-alt); }
  .table-dark td, .table-dark th {
    border-color: var(--panel-border);
    color: var(--text);
  }
  .table-dark td.text-muted { color: var(--text-muted) !important; }

  /* Forms */
  .form-label {
    color: var(--text);
    font-size: 0.875rem;
    font-weight: 500;
  }
  .form-control, .form-select {
    background: var(--panel);
    border-color: var(--panel-border);
    color: var(--text);
  }
  .form-control:focus, .form-select:focus {
    background: var(--panel);
    border-color: var(--blue);
    color: var(--text);
    box-shadow: 0 0 0 0.25rem rgba(59, 130, 246, 0.15);
  }
  .form-control::placeholder {
    color: var(--text-muted);
    opacity: 0.6;
  }
  .form-check-input {
    background-color: var(--panel);
    border-color: var(--panel-border);
  }
  .form-check-input:checked {
    background-color: var(--blue);
    border-color: var(--blue);
  }
  .form-check-label { color: var(--text); }
  .form-text { color: var(--text-muted) !important; }

  /* Buttons */
  .btn-primary {
    background-color: var(--blue);
    border-color: var(--blue);
    color: white;
  }
  .btn-primary:hover {
    background-color: #2563eb;
    border-color: #2563eb;
  }
  .btn-outline-light {
    color: var(--text);
    border-color: var(--panel-border);
  }
  .btn-outline-light:hover {
    background-color: var(--panel);
    border-color: var(--text-muted);
    color: var(--text);
  }

  /* Tabs */
  .nav-tabs {
    border-bottom: 1px solid var(--panel-border);
  }
  .nav-tabs .nav-link {
    color: var(--text-muted);
    border: 1px solid transparent;
    background: transparent;
  }
  .nav-tabs .nav-link:hover {
    color: var(--text);
    border-color: var(--panel-border);
  }
  .nav-tabs .nav-link.active {
    color: var(--text);
    background-color: var(--panel);
    border-color: var(--panel-border) var(--panel-border) var(--panel);
  }
  .tab-content {
    background: transparent;
    color: var(--text);
  }
  .tab-pane {
    background: transparent;
    color: var(--text);
  }

  /* Alerts */
  .alert-warning {
    background: rgba(245, 158, 11, 0.15);
    border-color: rgba(245, 158, 11, 0.3);
    color: var(--yellow);
  }
  .alert-danger {
    background: rgba(240, 68, 56, 0.15);
    border-color: rgba(240, 68, 56, 0.3);
    color: #f87171;
  }
  .alert-info {
    background: rgba(59, 130, 246, 0.15);
    border-color: rgba(59, 130, 246, 0.3);
    color: #60a5fa;
  }

  /* Utilities */
  .section-title { color: var(--text); opacity: 0.95; }
  .status-ok { color: var(--green); font-weight: 500; }
  .status-error { color: var(--red); font-weight: 500; }

  /* Page-specific styles can go in blocks */
  {% block extra_styles %}{% endblock %}
</style>
</head>
<body class="p-3">
  <div class="container-fluid">
    <!-- Header with navigation -->
    <div class="d-flex align-items-center justify-content-between mb-3">
      <h1 class="h3 mb-0">{% block page_title %}TradingBot{% endblock %}</h1>
      <div class="d-flex align-items-center gap-2">
        {% block nav_buttons %}
        <a href="/ui" class="btn btn-sm {% if active_page == 'portfolio' %}btn-primary{% else %}btn-outline-light{% endif %}">Portfolio</a>
        <a href="/backtest-ui" class="btn btn-sm {% if active_page == 'backtest' %}btn-primary{% else %}btn-outline-light{% endif %}">Backtest</a>
        <a href="/data-ui" class="btn btn-sm {% if active_page == 'data' %}btn-primary{% else %}btn-outline-light{% endif %}">Data</a>
        {% endblock %}
        {% block extra_nav %}{% endblock %}
      </div>
    </div>

    <!-- Main content -->
    {% block content %}{% endblock %}
  </div>

  <!-- Scripts -->
  {% block scripts %}{% endblock %}
</body>
</html>
